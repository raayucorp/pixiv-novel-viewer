# Pixiv小説ビューア

Pixivに投稿された小説を検索・閲覧するためのWebアプリケーションです。3DSやスマートフォンなど、様々なデバイスで小説を快適に読むことができます。

## 機能

- **小説検索**: Pixivの小説を検索できます
- **小説閲覧**: 複数ページにわたる小説も自動でページめくりして全文表示
- **レスポンシブデザイン**: 3DS、スマートフォン、PCなど様々なデバイスに対応
- **シンプルなインターフェース**: 読みやすさを重視したUI

## 必要な環境

- Python 3.7以上
- Google Chrome（Seleniumで使用）
- インターネット接続

## インストール

1. このリポジトリをクローンします：
```bash
git clone https://github.com/raayucorp/pixiv-novel-viewer.git
cd pixiv-novel-viewer
```

2. 必要なパッケージをインストールします：
```bash
pip install -r requirements.txt
```

3. Google Chromeがインストールされていることを確認してください。
   - Ubuntuの場合: `sudo apt update && sudo apt install google-chrome-stable`
   - その他のOSの場合: [Chrome公式サイト](https://www.google.com/chrome/)からダウンロード

## 設定

アプリケーションは以下の設定で動作します：
- **ホスト**: 0.0.0.0（すべてのインターフェースでリッスン）
- **ポート**: 5005
- **デバッグモード**: 無効（本番環境対応）

セキュリティを考慮し、本番環境では適切なファイアウォール設定を行ってください。

## 使用方法

1. アプリケーションを起動します：
```bash
python app.py
```

2. ブラウザで `http://localhost:5005` にアクセスします

3. 検索ボックスに読みたい小説のキーワードを入力して検索します

4. 検索結果から読みたい小説をクリックして閲覧します

## 技術仕様

- **フレームワーク**: Flask
- **UI**: HTML/CSS（レスポンシブデザイン）
- **スクレイピング**: Selenium WebDriver + BeautifulSoup
- **対応ブラウザ**: Chrome、Firefox、Safari、Edge等
- **WebDriver**: webdriver-manager（自動ダウンロード・管理）

### ChromeWebDriverの設定
アプリケーションは以下のChrome設定でSeleniumを実行します：
- ヘッドレスモード（バックグラウンド実行）
- ウィンドウサイズ: 1920x1080
- User-Agentの設定

## ファイル構成

```
pixiv-novel-viewer/
├── app.py              # メインアプリケーション
├── requirements.txt    # Python依存関係
├── templates/          # HTMLテンプレート
│   ├── layout.html     # ベースレイアウト
│   ├── index.html      # 検索ページ
│   ├── search.html     # 検索結果ページ
│   ├── novel.html      # 小説表示ページ
│   ├── error.html      # エラーページ
│   └── template        # テンプレートファイル
└── README.md          # このファイル
```

## 注意事項

⚠️ **重要**: このアプリケーションはPixivの公開APIと一部スクレイピングを使用しています。以下の点にご注意ください：

- **利用規約の遵守**: Pixivの利用規約を必ず確認し、遵守してください
- **過度なアクセス禁止**: 短時間での大量リクエストは避けてください
- **個人利用推奨**: 商用利用や大規模な利用は避けてください
- **自己責任**: 本ツールの使用は自己責任でお願いします

## トラブルシューティング

### ChromeDriverエラーが発生する場合
```
WebDriverManagerが自動的にChromeDriverをダウンロードしますが、失敗する場合は手動でインストールしてください。
```

### アクセスエラーが発生する場合
```
Pixiv側のアクセス制限やAPI変更により、一時的にアクセスできない場合があります。
時間をおいて再度お試しください。
```

### 小説が表示されない場合
```
- Pixivへのログインが必要な小説は表示できません
- 削除された小説は表示できません
- 年齢制限のある小説は表示できない場合があります
```

## ライセンス

このプロジェクトはMITライセンスの下で公開されています。

## 免責事項

- 本ソフトウェアの使用により生じたいかなる損害について、作者は責任を負いません
- Pixivの仕様変更により、予告なく動作しなくなる可能性があります
- 本ソフトウェアはPixiv公式ではありません

## 貢献

バグ報告や機能提案は、GitHubのIssuesページでお願いします。プルリクエストも歓迎します。